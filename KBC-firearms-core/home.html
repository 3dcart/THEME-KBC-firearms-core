<section id="home" class="home-page-content page-content">
	<!--START: home_carousel-->
	<section class="homepage-slider">
			
		<div class="homeCarousel flexslider" data-animation="[hc_effect]" data-slideshowspeed="[hc_delay]">
			<script>
					//Slide JSON format
					/*
					{
						"background_color": "#eceded",
						"background_image": "/assets/templates/diamond-rose-core-premium/images/content/slider-bg.jpg",
						"button_link": "https://www.3dcart.com/",
						"button_text": "Shop now",
						"details": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ornare mi volutpat, finibus quam vitae, porta purus. Fusce vestibulum enim quis efficitur pretium.",
						"heading": "<small>2017</small> SPRING <span>Collection</span>",
						"text_color": "#000000"
					}
					*/

					var slides = '[';
					//<!--START: carousel-->
					slides += '[image],'
					//<!--END: carousel-->

					//remove last comma (,)
					slides = slides.substring(0, slides.length - 1);

					slides = slides + ']';
			</script>

			<div id="hp-slide-format" class="hidden">
				<div class="container">
					<div class="row hp-slide-content">
						<div class="col-lg-5 col-md-6 col-sm-12"></div>
						<div class="col-lg-7 col-md-6 col-sm-12">
							<div class="hp-slider-text-outer">
								<div class="hp-slider-text">
									<h3></h3>
									<p></p>
									<div class="hp-slider-cta">
										<a href="" class="btn btn-primary"></a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<ul id="hp-slides" class="slides"></ul>
		</div>
	</section>
	<!--END: home_carousel-->

    <!--START: CATEGORY_HEADER-->
    <section class="category-header content-section">
        <div class="container">
            <div class="content tc-pagebuilder">[CONTENT]</div>
        </div>
    </section>
    <!--END: CATEGORY_HEADER-->

	<!--START: FEATURE_MENU-->
    <section class="products-section">
        <div class="container" aria-label="featuredproducts" role="main">
            
            <h2 class="header-specials">[category_Header-specials]</h2>

			<div class="product-carousel flexslider">
				<!--START: CATEGORY_ITEMS-->
				<ul class="product-items slides" data-productcols="[product-cols-number]" >
					<!--START: ITEM_TEMPLATE_0-->
					<li>
					[product_items]
					</li>
					<!--END: ITEM_TEMPLATE_0-->
				</ul>
				<!--END: CATEGORY_ITEMS-->
			</div>
            
        </div>
    </section>
	<!--END: FEATURE_MENU-->

	<!--START: TOP_SELLERS_BLOCK-->
	<div id="modTopSellers" class="products-section">
		<div class="container">
			<h2 class="header-specials">[frame_top-sellers]</h2>

			<div class="product-carousel flexslider">
				<ul class="product-items slides" data-productcols="[product-cols-number]" >
					<!--START: topsellers-->
					<!--START: topsellers_topitem-->
					<li>
						[product_items]
					</li>
					<!--END: topsellers_topitem-->

					<!--START: topsellers_item-->
					<li>
						[product_items]
					</li>
					<!--END: topsellers_item-->
					<!--END: topsellers-->
				</ul>
			</div>
		</div>
	</div>
	<!--END: TOP_SELLERS_BLOCK--> 

	<!--START: NEW_RELEASES_BLOCK-->
	<div id="modNewReleases" class="products-section">
		<div class="container">
			<h2 class="header-specials">[frame_new-releases]</h2>

			<div class="product-carousel flexslider">
				<ul class="product-items slides" data-productcols="[product-cols-number]" >
					<!--START: newreleases-->
					<!--START: newreleases_topitem-->
					<li>
						[product_items]
					</li>
					<!--END: newreleases_topitem-->

					<!--START: newreleases_item-->
					<li>
						[product_items]
					</li>
					<!--END: newreleases_item-->
					<!--END: newreleases-->
				</ul>
			</div>
		</div>
	</div>
	<!--END: NEW_RELEASES_BLOCK-->

    <!--START: HOMEPAGE_BLOGS-->
	<div class="homepage-blog-posts products-section">
		<div class="container">
            <h2 class="header-specials">[blog_recentposts]</h2>
			<ul class="blogList clearfix">
				<!--START: blog_post-->
				<li class="blogPost [blog_class]">
					<!--START: post_image-->
					<div class="post-image">
						<div class="post-image-container">
							<a href="[pagename]" title="[subject]">  
								<img src="[post_image]" alt="[subject]" class="img-responsive" />
							</a>
						</div>
					</div>			            
					<!--END: post_image-->
					<div class="post-content">
						<!--START: post_title-->
						<h3><a href="[pagename]" title="[subject]">[subject]</a></h3>
						<!--END: post_title-->

						<div id="postContent" class="post" data-articleID="[post_id]">
							[post]
						</div>

						<div class="post-info clearfix">
							<div class="postDate">
								[post_date]
							</div>
							<!--START: read-more-->
							<div class="post-readmore">
								<a href="[pagename]" title="[subject]" class="btn btn-default">[blog_read-more]</a>
							</div>
							<!--END: read-more-->
						</div>
					</div>
				</li>
				<!--END: blog_post-->
			</ul>
		</div>
	</div>
    <!--END: HOMEPAGE_BLOGS-->

    <!--START: CATEGORY_FOOTER-->
    <section class="category-footer content-section">
        <div class="container">
            <div class="content tc-pagebuilder">[CONTENT]</div>
        </div>
    </section>
    <!--END: CATEGORY_FOOTER-->

</section>

<!--START: template_scripts-->
<script type="text/javascript" src="/assets/templates/common-core/lib/flexslider/jquery.flexslider-min.js"></script>
<script type="text/javascript" charset="utf-8">
	jQuery(function () {
		
		var slidesJson = jQuery.parseJSON(slides);
        jQuery(slidesJson).each(function (i, element) {
            var slideItem = jQuery("<li></li>");
            var slideFormat = jQuery('#hp-slide-format > div').clone();

            jQuery(slideItem).css('background-image', 'url('+element.background_image+')');
            jQuery(slideItem).css('background-color', element.background_color);
            jQuery(slideFormat).find('.hp-slider-text').css('color', element.text_color);

            jQuery(slideFormat).find('.hp-slider-text h3').html(element.heading);
            jQuery(slideFormat).find('.hp-slider-text p').html(element.details);
            jQuery(slideFormat).find('.hp-slider-cta a').attr('href', element.button_link);
            jQuery(slideFormat).find('.hp-slider-cta a').html(element.button_text);
            //jQuery(slideFormat).find('.hp-slider-img').append('<img src=' + element.front_image + ' alt="" />');
    
            jQuery(slideItem).append(slideFormat);

            jQuery('#hp-slides').append(slideItem);
        });

		// Homepage Carousel
		jQuery('.homeCarousel').flexslider({
            animation: jQuery('.homeCarousel').attr('data-animation'),
			slideshow: true,
            slideshowSpeed: jQuery('.homeCarousel').attr('data-slideshowspeed'),
            controlNav: false,
            keyboard: false
        });
		
		// Product Scroll
		// store the slider in a local variable
		var $window = jQuery(window),
			flexslider = { vars: {} };

		// tiny helper function to add breakpoints
		function getGridSize() {
			var proCol = jQuery(".product-carousel > ul.slides").attr("data-productcols");
			return (window.innerWidth <= 567) ? 1 :
				   (window.innerWidth < 992) ? 2 : proCol;
		}

		$window.on("load", function () {
			jQuery('.product-carousel').flexslider({
				animation: "slide",
				controlNav: false,
				keyboard: false,
				itemWidth: 210,
				itemMargin: 0,
				minItems: getGridSize(), // use function to pull in initial value
				maxItems: getGridSize() // use function to pull in initial value

			});
			
			setTimeout(function () {
				window.dispatchEvent(new Event('resize'));
			}, 100);
		});

		// check grid size on resize event
		$window.resize(function () {
			var gridSize = getGridSize();

			flexslider.vars.minItems = gridSize;
			flexslider.vars.maxItems = gridSize;

		});
		jQuery(document).ready(function(){
			setTimeout(function () {
				window.dispatchEvent(new Event('resize'));
			}, 1000);
		});
		
	}());
	
</script>
<!--END: template_scripts-->

<!--START: template_styles-->
<link rel="stylesheet" href="/assets/templates/common-core/lib/flexslider/flexslider.css" type="text/css" media="screen" />
<link href="assets/templates/common-core/lib/contentbuilder/minimalist-blocks/content.min.css" rel="stylesheet" type="text/css" />
<!--END: template_styles-->